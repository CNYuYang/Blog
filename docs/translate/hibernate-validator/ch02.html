<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>Declaring and validating bean constraints</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="chapter-bean-constraints">Declaring and validating bean constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter you will learn how to declare (see <a href="#section-declaring-bean-constraints">Declaring bean constraints</a>) and
validate (see <a href="#section-validating-bean-constraints">Validating bean constraints</a>) bean constraints.
<a href="#section-builtin-constraints">Built-in constraints</a> provides an overview of all built-in constraints coming with
Hibernate Validator.</p>
</div>
<div class="paragraph">
<p>If you are interested in applying constraints to method parameters and return values, refer to
<a href="#chapter-method-constraints">[chapter-method-constraints]</a>.</p>
</div>
<div class="sect2">
<h3 id="section-declaring-bean-constraints">Declaring bean constraints</h3>
<div class="paragraph">
<p>Constraints in Jakarta Bean Validation are expressed via Java annotations. In this section you will learn
how to enhance an object model with these annotations. There are four types of bean constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>field constraints</p>
</li>
<li>
<p>property constraints</p>
</li>
<li>
<p>container element constraints</p>
</li>
<li>
<p>class constraints</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Not all constraints can be placed on all of these levels. In fact, none of the default constraints
defined by Jakarta Bean Validation can be placed at class level. The <code>java.lang.annotation.Target</code> annotation
in the constraint annotation itself determines on which elements a constraint can be placed. See
<a href="#validator-customconstraints">[validator-customconstraints]</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_field_level_constraints">Field-level constraints</h4>
<div class="paragraph">
<p>Constraints can be expressed by annotating a field of a class. <a href="#example-field-level">Field-level constraints</a> shows a field
level configuration example:</p>
</div>
<div id="example-field-level" class="exampleblock">
<div class="title">Example 1. Field-level constraints</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/fieldlevel/Car.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When using field-level constraints field access strategy is used to access the value to be
validated. This means the validation engine directly accesses the instance variable and does not
invoke the property accessor method even if such an accessor exists.</p>
</div>
<div class="paragraph">
<p>Constraints can be applied to fields of any access type (public, private etc.). Constraints on
static fields are not supported, though.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>When validating byte code enhanced objects, property level constraints should be used, because the
byte code enhancing library won&#8217;t be able to determine a field access via reflection.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_property_level_constraints">Property-level constraints</h4>
<div class="paragraph">
<p>If your model class adheres to the
<a href="http://www.oracle.com/technetwork/articles/javaee/spec-136004.html">JavaBeans</a> standard, it
is also possible to annotate the properties of a bean class instead of its fields.
<a href="#example-property-level">Property-level constraints</a> uses the same entity as in <a href="#example-field-level">Field-level constraints</a>, however, property level
constraints are used.</p>
</div>
<div id="example-property-level" class="exampleblock">
<div class="title">Example 2. Property-level constraints</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/propertylevel/Car.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The property&#8217;s getter method has to be annotated, not its setter. That way also read-only properties
can be constrained which have no setter method.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using property level constraints property access strategy is used to access the value to be
validated, i.e. the validation engine accesses the state via the property accessor method.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is recommended to stick either to field <em>or</em> property annotations within one class. It is not
recommended to annotate a field <em>and</em> the accompanying getter method as this would cause the field
to be validated twice.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="container-element-constraints">Container element constraints</h4>
<div class="paragraph">
<p>It is possible to specify constraints directly on the type argument of a
parameterized type: these constraints are called container element constraints.</p>
</div>
<div class="paragraph">
<p>This requires that <code>ElementType.TYPE_USE</code> is specified via <code>@Target</code>
in the constraint definition. As of Jakarta Bean Validation 2.0, built-in Jakarta Bean Validation as well as
Hibernate Validator specific constraints specify <code>ElementType.TYPE_USE</code> and can be used
directly in this context.</p>
</div>
<div class="paragraph">
<p>Hibernate Validator validates container element constraints specified on the following standard
Java containers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>implementations of <code>java.util.Iterable</code> (e.g. <code>List</code>s, <code>Set</code>s),</p>
</li>
<li>
<p>implementations of <code>java.util.Map</code>, with support for keys and values,</p>
</li>
<li>
<p><code>java.util.Optional</code>, <code>java.util.OptionalInt</code>, <code>java.util.OptionalDouble</code>, <code>java.util.OptionalLong</code>,</p>
</li>
<li>
<p>the various implementations of JavaFX&#8217;s <code>javafx.beans.observable.ObservableValue</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It also supports container element constraints on custom container types (see <a href="#chapter-valueextraction">[chapter-valueextraction]</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In versions prior to 6, a subset of container element constraints were supported. A <code>@Valid</code> annotation
was required at the container level to enable them.
This is not required anymore as of Hibernate Validator 6.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We present below a couple of examples illustrating container element constraints on various Java types.</p>
</div>
<div class="paragraph">
<p>In these examples, <code>@ValidPart</code> is a custom constraint allowed to be used in the <code>TYPE_USE</code> context.</p>
</div>
<div class="sect4">
<h5 id="_with_iterable">With <code>Iterable</code></h5>
<div class="paragraph">
<p>When applying constraints on an <code>Iterable</code> type argument, Hibernate Validator will validate each
element. <a href="#example-container-element-constraints-iterable">Container element constraint on <code>Set</code></a> shows an example of a
<code>Set</code> with a container element constraint.</p>
</div>
<div id="example-container-element-constraints-iterable" class="exampleblock">
<div class="title">Example 3. Container element constraint on <code>Set</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/set/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/set/CarTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note how the property path clearly states that the violation comes from an element of the iterable.</p>
</div>
</div>
<div class="sect4">
<h5 id="_with_list">With <code>List</code></h5>
<div class="paragraph">
<p>When applying constraints on a <code>List</code> type argument, Hibernate Validator will validate each
element. <a href="#example-container-element-constraints-list">Container element constraint on <code>List</code></a> shows an example of a
<code>List</code> with a container element constraint.</p>
</div>
<div id="example-container-element-constraints-list" class="exampleblock">
<div class="title">Example 4. Container element constraint on <code>List</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/list/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/list/CarTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here, the property path also contains the index of the invalid element.</p>
</div>
</div>
<div class="sect4">
<h5 id="_with_map">With <code>Map</code></h5>
<div class="paragraph">
<p>Container element constraints are also validated on map keys and values.
<a href="#example-container-element-constraints-map">Container element constraint on map keys and values</a> shows an example of a <code>Map</code> with a constraint on the key
and a constraint on the value.</p>
</div>
<div id="example-container-element-constraints-map" class="exampleblock">
<div class="title">Example 5. Container element constraint on map keys and values</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/map/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/map/CarTest.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/map/CarTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The property paths of the violations are particularly interesting:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The key of the invalid element is included in the property path (in the second example, the key is <code>null</code>).</p>
</li>
<li>
<p>In the first example, the violation concerns the <code>&lt;map value&gt;</code>, in the second one, the <code>&lt;map key&gt;</code>.</p>
</li>
<li>
<p>In the second example, you might have noticed the presence of the type argument <code>&lt;K&gt;</code>, more on this later.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_with_java_util_optional">With <code>java.util.Optional</code></h5>
<div class="paragraph">
<p>When applying a constraint on the type argument of <code>Optional</code>, Hibernate Validator will automatically
unwrap the type and validate the internal value. <a href="#example-container-element-constraints-optional">Container element constraint on Optional</a> shows
an example of an <code>Optional</code> with a container element constraint.</p>
</div>
<div id="example-container-element-constraints-optional" class="exampleblock">
<div class="title">Example 6. Container element constraint on Optional</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/optional/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/optional/CarTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here, the property path only contains the name of the property as we are considering <code>Optional</code> as a "transparent"
container.</p>
</div>
</div>
<div class="sect4">
<h5 id="_with_custom_container_types">With custom container types</h5>
<div class="paragraph">
<p>Container element constraints can also be used with custom containers.</p>
</div>
<div class="paragraph">
<p>A <code>ValueExtractor</code> must be registered for the custom type allowing to retrieve
the value(s) to validate (see <a href="#chapter-valueextraction">[chapter-valueextraction]</a> for more information about how to implement
your own <code>ValueExtractor</code> and how to register it).</p>
</div>
<div class="paragraph">
<p><a href="#example-container-element-constraints-custom-container-type">Container element constraint on custom container type</a> shows an example of a custom
parameterized type with a type argument constraint.</p>
</div>
<div id="example-container-element-constraints-custom-container-type" class="exampleblock">
<div class="title">Example 7. Container element constraint on custom container type</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/custom/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/custom/GearBox.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/custom/Gear.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/custom/GearBoxValueExtractor.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/custom/CarTest.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nested_container_elements">Nested container elements</h5>
<div class="paragraph">
<p>Constraints are also supported on nested container elements.</p>
</div>
<div class="paragraph">
<p>When validating a <code>Car</code> object as presented in <a href="#example-container-element-nested">Constraints on nested container elements</a>, both the <code>@NotNull</code>
constraints on <code>Part</code> and <code>Manufacturer</code> will be enforced.</p>
</div>
<div id="example-container-element-nested" class="exampleblock">
<div class="title">Example 8. Constraints on nested container elements</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/containerelement/nested/Car.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="validator-usingvalidator-classlevel">Class-level constraints</h4>
<div class="paragraph">
<p>Last but not least, a constraint can also be placed on the class level. In this case not a single
property is subject of the validation but the complete object. Class-level constraints are useful if
the validation depends on a correlation between several properties of an object.</p>
</div>
<div class="paragraph">
<p>The <code>Car</code> class in <a href="#example-class-level">Class-level constraint</a> has the two attributes <code>seatCount</code> and <code>passengers</code> and it
should be ensured that the list of passengers does not have more entries than available seats. For
that purpose the <code>@ValidPassengerCount</code> constraint is added on the class level. The validator of that
constraint has access to the complete <code>Car</code> object, allowing to compare the numbers of seats and
passengers.</p>
</div>
<div class="paragraph">
<p>Refer to <a href="#section-class-level-constraints">[section-class-level-constraints]</a> to learn in detail how to implement this custom
constraint.</p>
</div>
<div id="example-class-level" class="exampleblock">
<div class="title">Example 9. Class-level constraint</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/classlevel/Car.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-constraint-inheritance">Constraint inheritance</h4>
<div class="paragraph">
<p>When a class implements an interface or extends another class, all constraint annotations declared
on the super-type apply in the same manner as the constraints specified on the class itself. To make
things clearer let&#8217;s have a look at the following example:</p>
</div>
<div class="exampleblock">
<div class="title">Example 10. Constraint inheritance</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/inheritance/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/inheritance/RentalCar.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here the class <code>RentalCar</code> is a subclass of <code>Car</code> and adds the property <code>rentalStation</code>. If an instance of
<code>RentalCar</code> is validated, not only the <code>@NotNull</code> constraint on <code>rentalStation</code> is evaluated, but also the
constraint on <code>manufacturer</code> from the parent class.</p>
</div>
<div class="paragraph">
<p>The same would be true, if <code>Car</code> was not a superclass but an interface implemented by <code>RentalCar</code>.</p>
</div>
<div class="paragraph">
<p>Constraint annotations are aggregated if methods are overridden. So if <code>RentalCar</code> overrode the
<code>getManufacturer()</code> method from <code>Car</code>, any constraints annotated at the overriding method would be
evaluated in addition to the <code>@NotNull</code> constraint from the superclass.</p>
</div>
</div>
<div class="sect3">
<h4 id="section-object-graph-validation">Object graphs</h4>
<div class="paragraph">
<p>The Jakarta Bean Validation API does not only allow to validate single class instances but also complete
object graphs (cascaded validation). To do so, just annotate a field or property representing a
reference to another object with <code>@Valid</code> as demonstrated in <a href="#example-cascaded-validation">Cascaded validation</a>.</p>
</div>
<div id="example-cascaded-validation" class="exampleblock">
<div class="title">Example 11. Cascaded validation</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/objectgraph/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/objectgraph/Person.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If an instance of <code>Car</code> is validated, the referenced <code>Person</code> object will be validated as well, as the
<code>driver</code> field is annotated with <code>@Valid</code>. Therefore the validation of a <code>Car</code> will fail if the <code>name</code> field
of the referenced <code>Person</code> instance is <code>null</code>.</p>
</div>
<div class="paragraph">
<p>The validation of object graphs is recursive, i.e. if a reference marked for cascaded validation
points to an object which itself has properties annotated with <code>@Valid</code>, these references will be
followed up by the validation engine as well. The validation engine will ensure that no infinite
loops occur during cascaded validation, for example if two objects hold references to each other.</p>
</div>
<div class="paragraph">
<p>Note that <code>null</code> values are getting ignored during cascaded validation.</p>
</div>
<div class="paragraph">
<p>As constraints, object graph validation also works for container elements. That means any type argument
of a container can be annotated with <code>@Valid</code>, which will cause each contained element to be validated when the
parent object is validated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Cascaded validation is also supported for nested container elements.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="example-cascaded-validation-list" class="exampleblock">
<div class="title">Example 12. Cascaded validation of containers</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/objectgraph/containerelement/Car.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/objectgraph/containerelement/Part.java[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/objectgraph/containerelement/Manufacturer.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>When validating an instance of the <code>Car</code> class shown in <a href="#example-cascaded-validation-list">Cascaded validation of containers</a>, a
<code>ConstraintViolation</code> will be created:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if any of the <code>Person</code> objects contained in the passengers list has a <code>null</code> name;</p>
</li>
<li>
<p>if any of the <code>Part</code> objects contained in the map keys has a <code>null</code> name;</p>
</li>
<li>
<p>if any of the <code>Manufacturer</code> objects contained in the list nested in the map values
has a <code>null</code> name.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In versions prior to 6, Hibernate Validator supported cascaded validation for a subset of container elements
and it was implemented at the container level (e.g. you would use <code>@Valid private List&lt;Person&gt;</code> to enable
cascaded validation for <code>Person</code>).</p>
</div>
<div class="paragraph">
<p>This is still supported but is not recommended. Please use container element level <code>@Valid</code> annotations instead
as it is more expressive.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-validating-bean-constraints">Validating bean constraints</h3>
<div class="paragraph">
<p>The <code>Validator</code> interface is the most important object in Jakarta Bean Validation. The next section shows how
to obtain a <code>Validator</code> instance. Afterwards you&#8217;ll learn how to use the different methods of the
<code>Validator</code> interface.</p>
</div>
<div class="sect3">
<h4 id="section-obtaining-validator">Obtaining a <code>Validator</code> instance</h4>
<div class="paragraph">
<p>The first step towards validating an entity instance is to get hold of a <code>Validator</code> instance. The
road to this instance leads via the <code>Validation</code> class and a <code>ValidatorFactory</code>. The easiest way is to
use the static method <code>Validation#buildDefaultValidatorFactory()</code>:</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. <code>Validation#buildDefaultValidatorFactory()</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/validation/ValidationTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This bootstraps a validator in the default configuration. Refer to <a href="#chapter-bootstrapping">[chapter-bootstrapping]</a> to
learn more about the different bootstrapping methods and how to obtain a specifically configured
<code>Validator</code> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="_validator_methods">Validator methods</h4>
<div class="paragraph">
<p>The <code>Validator</code> interface contains three methods that can be used to either validate entire entities
or just single properties of the entity.</p>
</div>
<div class="paragraph">
<p>All three methods return a <code>Set&lt;ConstraintViolation&gt;</code>. The set is empty, if the validation succeeds.
Otherwise a <code>ConstraintViolation</code> instance is added for each violated constraint.</p>
</div>
<div class="paragraph">
<p>All the validation methods have a var-args parameter which can be used to specify which validation
groups shall be considered when performing the validation. If the parameter is not specified, the
default validation group (<code>jakarta.validation.groups.Default</code>) is used. The topic of validation groups
is discussed in detail in <a href="#chapter-groups">[chapter-groups]</a>.</p>
</div>
<div class="sect4">
<h5 id="_validatorvalidate"><code>Validator#validate()</code></h5>
<div class="paragraph">
<p>Use the <code>validate()</code> method to perform validation of all constraints of a given bean.
<a href="#example-validator-validate">Using <code>Validator#validate()</code></a> shows the validation of an instance of the <code>Car</code> class from
<a href="#example-property-level">Property-level constraints</a> which fails to satisfy the <code>@NotNull</code> constraint on the <code>manufacturer</code>
property. The validation call therefore returns one <code>ConstraintViolation</code> object.</p>
</div>
<div id="example-validator-validate" class="exampleblock">
<div class="title">Example 14. Using <code>Validator#validate()</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/validation/ValidationTest.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_validatorvalidateproperty"><code>Validator#validateProperty()</code></h5>
<div class="paragraph">
<p>With help of the <code>validateProperty()</code> you can validate a single named property of a given object. The
property name is the JavaBeans property name.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15. Using <code>Validator#validateProperty()</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/validation/ValidationTest.java[]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_validatorvalidatevalue"><code>Validator#validateValue()</code></h5>
<div class="paragraph">
<p>By using the <code>validateValue()</code> method you can check whether a single property of a given class can be
validated successfully, if the property had the specified value:</p>
</div>
<div class="exampleblock">
<div class="title">Example 16. Using <code>Validator#validateValue()</code></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JAVA" data-lang="JAVA">link:{sourcedir}/org/hibernate/validator/referenceguide/chapter02/validation/ValidationTest.java[]</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>@Valid</code> is not honored by <code>validateProperty()</code> or <code>validateValue()</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Validator#validateProperty()</code> is for example used in the integration of Jakarta Bean Validation into JSF 2
(see <a href="#section-presentation-layer">[section-presentation-layer]</a>) to perform a validation of the values entered into a form
before they are propagated to the model.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-constraint-violation-methods"><code>ConstraintViolation</code></h4>
<div class="sect4">
<h5 id="_constraintviolation_methods"><code>ConstraintViolation</code> methods</h5>
<div class="paragraph">
<p>Now it is time to have a closer look at what a <code>ConstraintViolation</code> is.
Using the different methods of <code>ConstraintViolation</code> a lot of useful information about the cause of the validation failure can be determined.
The following gives an overview of these methods.
The values under "Example" column refer to <a href="#example-validator-validate">Using <code>Validator#validate()</code></a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>getMessage()</code></dt>
<dd>
<p>The interpolated error message</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p>"must not be null"</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getMessageTemplate()</code></dt>
<dd>
<p>The non-interpolated error message</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p>"{&#8230;&#8203; NotNull.message}"</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getRootBean()</code></dt>
<dd>
<p>The root bean being validated</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p>car</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getRootBeanClass()</code></dt>
<dd>
<p>The class of the root bean being validated</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p><code>Car.class</code></p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getLeafBean()</code></dt>
<dd>
<p>If a bean constraint, the bean instance the constraint is
applied on; if a property constraint, the bean instance hosting
the property the constraint is applied on</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p><code>car</code></p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getPropertyPath()</code></dt>
<dd>
<p>The property path to the validated value from root bean</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p>contains one node with kind <code>PROPERTY</code> and name "manufacturer"</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getInvalidValue()</code></dt>
<dd>
<p>The value failing to pass the constraint</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p><code>null</code></p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>getConstraintDescriptor()</code></dt>
<dd>
<p>Constraint metadata reported to fail</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
<dd>
<p>descriptor for <code>@NotNull</code></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_exploiting_the_property_path">Exploiting the property path</h5>
<div class="paragraph">
<p>To determine the element that triggered the violation, you need to exploit the result of the <code>getPropertyPath()</code>
method.</p>
</div>
<div class="paragraph">
<p>The returned <code>Path</code> is composed of <code>Node</code>s describing the path to the element.</p>
</div>
<div class="paragraph">
<p>More information about the structure of the <code>Path</code> and the various types of <code>Node</code>s can be found in
{bvSpecUrl}#validationapi-constraintviolation[the <code>ConstraintViolation</code> section] of the
Jakarta Bean Validation specification.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-builtin-constraints">Built-in constraints</h3>
<div class="paragraph">
<p>Hibernate Validator comprises a basic set of commonly used constraints. These are foremost the
constraints defined by the Jakarta Bean Validation specification (see <a href="#validator-defineconstraints-spec">Jakarta Bean Validation constraints</a>).
Additionally, Hibernate Validator provides useful custom constraints (see
<a href="#validator-defineconstraints-hv-constraints">Additional constraints</a>).</p>
</div>
<div class="sect3">
<h4 id="validator-defineconstraints-spec">Jakarta Bean Validation constraints</h4>
<div class="paragraph">
<p>Below you can find a list of all constraints specified in the Jakarta Bean Validation API.
All these constraints apply to the field/property level, there are no class-level constraints defined in the Jakarta Bean Validation specification.
If you are using the Hibernate object-relational mapper, some of the constraints are taken into account when creating the DDL for your model (see "Hibernate metadata impact").</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Validator allows some constraints to be applied to more data types than required by the
Jakarta Bean Validation specification (e.g. <code>@Max</code> can be applied to strings). Relying on this feature can
impact portability of your application between Jakarta Bean Validation providers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>@AssertFalse</code></dt>
<dd>
<p>Checks that the annotated element is false</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>Boolean</code>, <code>boolean</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@AssertTrue</code></dt>
<dd>
<p>Checks that the annotated element is true</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>Boolean</code>, <code>boolean</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@DecimalMax(value=, inclusive=)</code></dt>
<dd>
<p>Checks whether the annotated value is less than the specified maximum, when <code>inclusive</code>=false. Otherwise whether the value is less than or equal to the specified maximum. The parameter value is the string representation of the max value according to the <code>BigDecimal</code> string representation.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>CharSequence</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code> (if the <a href="https://jcp.org/en/jsr/detail?id=354">JSR 354 API</a> and an implementation is on the class path)</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@DecimalMin(value=, inclusive=)</code></dt>
<dd>
<p>Checks whether the annotated value is larger than the specified minimum, when <code>inclusive</code>=false. Otherwise whether the value is larger than or equal to the specified minimum. The parameter value is the string representation of the min value according to the <code>BigDecimal</code> string representation.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>CharSequence</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Digits(integer=, fraction=)</code></dt>
<dd>
<p>Checks whether the annotated value is a number having up to <code>integer</code> digits and <code>fraction</code> fractional digits</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p>BigDecimal, <code>BigInteger</code>, <code>CharSequence</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Defines column precision and scale</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Email</code></dt>
<dd>
<p>Checks whether the specified character sequence is a valid email address. The optional parameters <code>regexp</code> and <code>flags</code> allow to specify an additional regular expression (including regular expression flags) which the email must match.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Future</code></dt>
<dd>
<p>Checks whether the annotated date is in the future</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.util.Date</code>, <code>java.util.Calendar</code>, <code>java.time.Instant</code>, <code>java.time.LocalDate</code>, <code>java.time.LocalDateTime</code>, <code>java.time.LocalTime</code>, <code>java.time.MonthDay</code>, <code>java.time.OffsetDateTime</code>, <code>java.time.OffsetTime</code>, <code>java.time.Year</code>, <code>java.time.YearMonth</code>, <code>java.time.ZonedDateTime</code>, <code>java.time.chrono.HijrahDate</code>, <code>java.time.chrono.JapaneseDate</code>, <code>java.time.chrono.MinguoDate</code>, <code>java.time.chrono.ThaiBuddhistDate</code>; additionally supported by HV, if the <a href="http://www.joda.org/joda-time/">Joda Time</a> date/time API is on the classpath: any implementations of <code>ReadablePartial</code> and <code>ReadableInstant</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@FutureOrPresent</code></dt>
<dd>
<p>Checks whether the annotated date is in the present or in the future</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.util.Date</code>, <code>java.util.Calendar</code>, <code>java.time.Instant</code>, <code>java.time.LocalDate</code>, <code>java.time.LocalDateTime</code>, <code>java.time.LocalTime</code>, <code>java.time.MonthDay</code>, <code>java.time.OffsetDateTime</code>, <code>java.time.OffsetTime</code>, <code>java.time.Year</code>, <code>java.time.YearMonth</code>, <code>java.time.ZonedDateTime</code>, <code>java.time.chrono.HijrahDate</code>, <code>java.time.chrono.JapaneseDate</code>, <code>java.time.chrono.MinguoDate</code>, <code>java.time.chrono.ThaiBuddhistDate</code>; additionally supported by HV, if the <a href="http://www.joda.org/joda-time/">Joda Time</a> date/time API is on the classpath: any implementations of <code>ReadablePartial</code> and <code>ReadableInstant</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Max(value=)</code></dt>
<dd>
<p>Checks whether the annotated value is less than or equal to the specified maximum</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Adds a check constraint on the column</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Min(value=)</code></dt>
<dd>
<p>Checks whether the annotated value is higher than or equal to the specified minimum</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Adds a check constraint on the column</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@NotBlank</code></dt>
<dd>
<p>Checks that the annotated character sequence is not null and the trimmed length is greater than 0. The difference to <code>@NotEmpty</code> is that this constraint can only be applied on character sequences and that trailing white-spaces are ignored.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@NotEmpty</code></dt>
<dd>
<p>Checks whether the annotated element is not null nor empty</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code>, <code>Collection</code>, <code>Map</code> and arrays</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@NotNull</code></dt>
<dd>
<p>Checks that the annotated value is not <code>null</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p>Any type</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Column(s) are not nullable</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Negative</code></dt>
<dd>
<p>Checks if the element is strictly negative. Zero values are considered invalid.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@NegativeOrZero</code></dt>
<dd>
<p>Checks if the element is negative or zero.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Null</code></dt>
<dd>
<p>Checks that the annotated value is <code>null</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p>Any type</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Past</code></dt>
<dd>
<p>Checks whether the annotated date is in the past</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.util.Date</code>,<code>java.util.Calendar</code>, <code>java.time.Instant</code>, <code>java.time.LocalDate</code>, <code>java.time.LocalDateTime</code>, <code>java.time.LocalTime</code>, <code>java.time.MonthDay</code>, <code>java.time.OffsetDateTime</code>, <code>java.time.OffsetTime</code>, <code>java.time.Year</code>, <code>java.time.YearMonth</code>, <code>java.time.ZonedDateTime</code>, <code>java.time.chrono.HijrahDate</code>, <code>java.time.chrono.JapaneseDate</code>, <code>java.time.chrono.MinguoDate</code>, <code>java.time.chrono.ThaiBuddhistDate</code>; Additionally supported by HV, if the <a href="http://www.joda.org/joda-time/">Joda Time</a> date/time API is on the classpath: any implementations of <code>ReadablePartial</code> and <code>ReadableInstant</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@PastOrPresent</code></dt>
<dd>
<p>Checks whether the annotated date is in the past or in the present</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.util.Date</code>,<code>java.util.Calendar</code>, <code>java.time.Instant</code>, <code>java.time.LocalDate</code>, <code>java.time.LocalDateTime</code>, <code>java.time.LocalTime</code>, <code>java.time.MonthDay</code>, <code>java.time.OffsetDateTime</code>, <code>java.time.OffsetTime</code>, <code>java.time.Year</code>, <code>java.time.YearMonth</code>, <code>java.time.ZonedDateTime</code>, <code>java.time.chrono.HijrahDate</code>, <code>java.time.chrono.JapaneseDate</code>, <code>java.time.chrono.MinguoDate</code>, <code>java.time.chrono.ThaiBuddhistDate</code>; Additionally supported by HV, if the <a href="http://www.joda.org/joda-time/">Joda Time</a> date/time API is on the classpath: any implementations of <code>ReadablePartial</code> and <code>ReadableInstant</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Pattern(regex=, flags=)</code></dt>
<dd>
<p>Checks if the annotated string matches the regular expression <code>regex</code> considering the given flag <code>match</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Positive</code></dt>
<dd>
<p>Checks if the element is strictly positive. Zero values are considered invalid.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@PositiveOrZero</code></dt>
<dd>
<p>Checks if the element is positive or zero.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types; additionally supported by HV: any sub-type of <code>CharSequence</code> (the numeric value represented by the character sequence is evaluated), any sub-type of <code>Number</code> and <code>javax.money.MonetaryAmount</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Size(min=, max=)</code></dt>
<dd>
<p>Checks if the annotated element&#8217;s size is between <code>min</code> and <code>max</code> (inclusive)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code>, <code>Collection</code>, <code>Map</code> and arrays</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Column length will be set to <code>max</code></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>On top of the parameters listed above each constraint has the parameters
message, groups and payload. This is a requirement of the Jakarta Bean Validation specification.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="validator-defineconstraints-hv-constraints">Additional constraints</h4>
<div class="paragraph">
<p>In addition to the constraints defined by the Jakarta Bean Validation API, Hibernate Validator provides several useful custom constraints which are listed below.
With one exception also these constraints apply to the field/property level, only <code>@ScriptAssert</code> is a class-level constraint.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>@CreditCardNumber(ignoreNonDigitCharacters=)</code></dt>
<dd>
<p>Checks that the annotated character sequence passes the Luhn checksum test. Note, this validation aims to check for user mistakes, not credit card validity! See also <a href="http://www.dirigodev.com/blog/ecommerce/anatomy-of-a-credit-card-number/">Anatomy of a credit card number</a>. <code>ignoreNonDigitCharacters</code> allows to ignore non digit characters. The default is <code>false</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Currency(value=)</code></dt>
<dd>
<p>Checks that the currency unit of the annotated <code>javax.money.MonetaryAmount</code> is part of the specified currency units.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p>any sub-type of <code>javax.money.MonetaryAmount</code> (if the <a href="https://jcp.org/en/jsr/detail?id=354">JSR 354 API</a> and an implementation is on the class path)</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@DurationMax(days=, hours=, minutes=, seconds=, millis=, nanos=, inclusive=)</code></dt>
<dd>
<p>Checks that annotated <code>java.time.Duration</code> element is not greater than the one constructed from annotation parameters. Equality is allowed if <code>inclusive</code> flag is set to <code>true</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.time.Duration</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@DurationMin(days=, hours=, minutes=, seconds=, millis=, nanos=, inclusive=)</code></dt>
<dd>
<p>Checks that annotated <code>java.time.Duration</code> element is not less than the one constructed from annotation parameters. Equality is allowed if <code>inclusive</code> flag is set to <code>true</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>java.time.Duration</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@EAN</code></dt>
<dd>
<p>Checks that the annotated character sequence is a valid <a href="http://en.wikipedia.org/wiki/International_Article_Number_%28EAN%29">EAN</a> barcode. type determines the type of barcode. The default is EAN-13.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@ISBN</code></dt>
<dd>
<p>Checks that the annotated character sequence is a valid <a href="https://en.wikipedia.org/wiki/International_Standard_Book_Number">ISBN</a>. <code>type</code> determines the type of ISBN. The default is ISBN-13.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Length(min=, max=)</code></dt>
<dd>
<p>Validates that the annotated character sequence is between <code>min</code> and <code>max</code> included</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>Column length will be set to max</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@CodePointLength(min=, max=, normalizationStrategy=)</code></dt>
<dd>
<p>Validates that code point length of the annotated character sequence is between <code>min</code> and <code>max</code> included. Validates normalized value if <code>normalizationStrategy</code> is set.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@LuhnCheck(startIndex= , endIndex=, checkDigitIndex=, ignoreNonDigitCharacters=)</code></dt>
<dd>
<p>Checks that the digits within the annotated character sequence pass the Luhn checksum algorithm (see also <a href="http://en.wikipedia.org/wiki/Luhn_algorithm">Luhn algorithm</a>). <code>startIndex</code> and <code>endIndex</code> allow to only run the algorithm on the specified sub-string. <code>checkDigitIndex</code> allows to use an arbitrary digit within the character sequence as the check digit. If not specified it is assumed that the check digit is part of the specified range. Last but not least, <code>ignoreNonDigitCharacters</code> allows to ignore non digit characters.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Mod10Check(multiplier=, weight=, startIndex=, endIndex=, checkDigitIndex=, ignoreNonDigitCharacters=)</code></dt>
<dd>
<p>Checks that the digits within the annotated character sequence pass the generic mod 10 checksum algorithm. <code>multiplier</code> determines the multiplier for odd numbers (defaults to 3), <code>weight</code> the weight for even numbers (defaults to 1). <code>startIndex</code> and <code>endIndex</code> allow to only run the algorithm on the specified sub-string. <code>checkDigitIndex</code> allows to use an arbitrary digit within the character sequence as the check digit. If not specified it is assumed that the check digit is part of the specified range. Last but not least, <code>ignoreNonDigitCharacters</code> allows to ignore non digit characters.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Mod11Check(threshold=, startIndex=, endIndex=, checkDigitIndex=, ignoreNonDigitCharacters=, treatCheck10As=, treatCheck11As=)</code></dt>
<dd>
<p>Checks that the digits within the annotated character sequence pass the mod 11 checksum algorithm. <code>threshold</code> specifies the threshold for the mod11 multiplier growth; if no value is specified the multiplier will grow indefinitely. <code>treatCheck10As</code> and <code>treatCheck11As</code> specify the check digits to be used when the mod 11 checksum equals 10 or 11, respectively. Default to X and 0, respectively. <code>startIndex</code>, <code>endIndex</code> <code>checkDigitIndex</code> and <code>ignoreNonDigitCharacters</code> carry the same semantics as in <code>@Mod10Check</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Normalized(form=)</code></dt>
<dd>
<p>Validates that the annotated character sequence is normalized according to the given <code>form</code>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@Range(min=, max=)</code></dt>
<dd>
<p>Checks whether the annotated value lies between (inclusive) the specified minimum and maximum</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>BigDecimal</code>, <code>BigInteger</code>, <code>CharSequence</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> and the respective wrappers of the primitive types</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@ScriptAssert(lang=, script=, alias=, reportOn=)</code></dt>
<dd>
<p>Checks whether the given script can successfully be evaluated against the annotated element. In order to use this constraint, an implementation of the Java Scripting API as defined by JSR 223 ("Scripting for the Java<sup>TM</sup> Platform") must be a part of the class path. The expressions to be evaluated can be written in any scripting or expression language, for which a JSR 223 compatible engine can be found in the class path. Even though this is a class-level constraint, one can use the <code>reportOn</code> attribute to report a constraint violation on a specific property rather than the whole object.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p>Any type</p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@UniqueElements</code></dt>
<dd>
<p>Checks that the annotated collection only contains unique elements. The equality is determined using the <code>equals()</code> method. The default message does not include the list of duplicate elements but you can include it by overriding the message and using the <code>{duplicates}</code> message parameter. The list of duplicate elements is also included in the dynamic payload of the constraint violation.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>Collection</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@URL(protocol=, host=, port=, regexp=, flags=)</code></dt>
<dd>
<p>Checks if the annotated character sequence is a valid URL according to RFC2396. If any of the optional parameters <code>protocol</code>, <code>host</code> or <code>port</code> are specified, the corresponding URL fragments must match the specified values. The optional parameters <code>regexp</code> and <code>flags</code> allow to specify an additional regular expression (including regular expression flags) which the URL must match. Per default this constraint used the <code>java.net.URL</code> constructor to verify whether a given string represents a valid URL. A regular expression based version is also available - <code>RegexpURLValidator</code> - which can be configured via XML (see <a href="#section-mapping-xml-constraints">[section-mapping-xml-constraints]</a>) or the programmatic API (see <a href="#section-programmatic-constraint-definition">[section-programmatic-constraint-definition]</a>).</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_country_specific_constraints">Country specific constraints</h5>
<div class="paragraph">
<p>Hibernate Validator offers also some country specific constraints, e.g. for the validation of social
security numbers.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you have to implement a country specific constraint, consider making it a contribution to
Hibernate Validator!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>@CNPJ</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Brazilian corporate tax payer registry number (Cadastro de Pessoa Jurídica)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Brazil</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@CPF</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Brazilian individual taxpayer registry number (Cadastro de Pessoa Física)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Brazil</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@TituloEleitoral</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Brazilian voter ID card number (<a href="http://www.exceldoseujeito.com.br/2008/12/19/validar-cpf-cnpj-e-titulo-de-eleitor-parte-ii/">Título Eleitoral</a>)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Brazil</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@NIP</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Polish VAT identification number (<a href="https://pl.wikipedia.org/wiki/NIP">NIP</a>)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Poland</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@PESEL</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Polish national identification number (<a href="https://pl.wikipedia.org/wiki/PESEL">PESEL</a>)</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Poland</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@REGON</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Polish taxpayer identification number (<a href="https://pl.wikipedia.org/wiki/REGON">REGON</a>). Can be applied to both 9 and 14 digits versions of REGON</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Poland</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>@INN</code></dt>
<dd>
<p>Checks that the annotated character sequence represents a Russian taxpayer identification number (<a href="https://ru.wikipedia.org/wiki/%D0%98%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BD%D0%BE%D0%BC%D0%B5%D1%80_%D0%BD%D0%B0%D0%BB%D0%BE%D0%B3%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%89%D0%B8%D0%BA%D0%B0">INN</a>). Can be applied to both individual and juridical versions of INN</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Supported data types</dt>
<dd>
<p><code>CharSequence</code></p>
</dd>
<dt class="hdlist1">Hibernate metadata impact</dt>
<dd>
<p>None</p>
</dd>
<dt class="hdlist1">Country</dt>
<dd>
<p>Russia</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>In some cases neither the Jakarta Bean Validation constraints nor the custom constraints provided by
Hibernate Validator will fulfill your requirements. In this case you can easily write your own
constraint. You can find more information in <a href="#validator-customconstraints">[validator-customconstraints]</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-03-19 19:50:05 +0800
</div>
</div>
</body>
</html>